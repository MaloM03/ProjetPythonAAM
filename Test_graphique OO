import tkinter as tk

class ConnectionApp:
    def __init__(self, root):
        self.root = root
        self.root.title("Connection")

        # Création des widgets pour l'interface utilisateur
        self.create_widgets()

    def create_widgets(self):
        #===== USER =====
        # Création d'une étiquette
        user_label = tk.Label(self.root, text="User : ")
        user_label.pack()

        # Création d'une zone de saisie
        self.user_entry = tk.Entry(self.root)
        self.user_entry.pack()

        #===== PASSWORD =====
        # Création d'une étiquette
        password_label = tk.Label(self.root, text="Password : ")
        password_label.pack()

        # Création d'une zone de saisie
        self.password_entry = tk.Entry(self.root, show='*')
        self.password_entry.pack()

        # Lier l'événement de pression de la touche Entrée à la fonction Validation
        self.password_entry.bind("<Return>", self.validation)

    def validation(self, event):
        user_name = self.user_entry.get()
        password = self.password_entry.get()

        # Vérification des identifiants
        code = (user_name.lower() == "a" and password.lower() == "s") or \
               (user_name.lower() == "a" and password.lower() == "c") or \
               (user_name.lower() == "m" and password.lower() == "m")

        if code:
            # Création d'une nouvelle fenêtre
            app = tk.Tk()
            app.title("ERP.Production")

            # Ajout des éléments à la nouvelle fenêtre
            new_label = tk.Label(app, text="Bienvenue sur la deuxième page !")
            new_label.pack()

            # Fermeture auto de la fenêtre de connexion
            self.root.destroy()
        else:
            # Création d'une fenêtre d'erreur
            error_window = tk.Toplevel(self.root)
            error_window.title("Error")

            # Ajout des éléments à la fenêtre d'erreur
            error_label = tk.Label(error_window, text="User/Password incorrect")
            error_label.pack()

            # Effacement des champs de saisie
            self.user_entry.delete(0, "end")
            self.password_entry.delete(0, "end")
            
if __name__ == "__main__":
    # Création de la fenêtre principale
    root = tk.Tk()

    # Création de l'application de connexion
    connection_app = ConnectionApp(root)

    # Lancement de la boucle principale
    root.mainloop()
